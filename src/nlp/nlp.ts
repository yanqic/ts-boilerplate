import { NlpManager } from 'node-nlp'

const manager = new NlpManager({ languages: ['zh'], forceNER: true });
// // Adds the utterances and intents for the NLP
// manager.addDocument('zh', 'å†è§äº†', 'greetings.bye');
// manager.addDocument('zh', 'å†è§äº†ï¼Œç…§é¡¾å¥½è‡ªå·±', 'greetings.bye');
// manager.addDocument('zh', 'å¥½çš„ï¼Œä¸‹æ¬¡è§äº†', 'greetings.bye');
// manager.addDocument('zh', 'ä¸‹æ¬¡è§äº†', 'greetings.bye');
// manager.addDocument('zh', 'æˆ‘è¦èµ°äº†', 'greetings.bye');
// manager.addDocument('zh', 'ä½ å¥½', 'greetings.hello');
// manager.addDocument('zh', 'å—¨', 'greetings.hello');
// manager.addDocument('zh', 'åƒäº†å—', 'greetings.hello');

// // Train also the NLG
// manager.addAnswer('zh', 'greetings.bye', 'ç›´åˆ°ä¸‹æ¬¡');
// manager.addAnswer('zh', 'greetings.bye', 'å†è§æœ‹å‹!');
// manager.addAnswer('zh', 'greetings.hello', 'å“ˆå–½!');
// manager.addAnswer('zh', 'greetings.hello', 'åƒäº†å—!');

const dicts = [
    ['è¯·é—®ä¸ºå•¥æˆ‘æŒ‰æ‹¼éŸ³é¦–å­—æ¯kzkcåœ¨APPæœä¸åˆ°ç©ºä¸­å®¢è½¦', 'question'],
    ['è¯·é—®å’±ä»¬APPä¸Šå¯ä»¥çœ‹åˆ°æ–°è‚¡çš„æµé€šè‚¡æŒ‡æ ‡å—ã€‚æˆ‘çœ‹å¯Œé€”æ˜¯æœ‰çš„ æˆ‘ä»¬æ²¡æœ‰ ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘æ²¡æ‰¾åˆ°', 'question'],
    ['hello, è¯·é—®PCç«¯çš„watchlistè¦æ€Žæ ·åˆ é™¤æŽ‰ä¸æƒ³è¦çš„è‚¡ç¥¨ä¿¡æ¯ï¼Œæ¯”å¦‚æŸäº›ä¸‹å•åŽè‡ªåŠ¨æ·»åŠ çš„è‚¡ç¥¨', 'question'],
    ['è¯·é—®,appæ€»è®©é‡æ–°ç™»å½•æ€Žä¹ˆè§£å†³ç€', 'question'],
    ['åŠ ä¸Šæ˜¨æ™šåšäº¤æ˜“çš„çºªå½•ä¹Ÿæ²¡æœ‰æ˜¾ç¤ºï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬ç³»ç»Ÿæœ‰æ˜¨æ™šçš„äº¤æ˜“è®°å½•ã€‚åŠ³çƒ¦æŸ¥çœ‹', 'question'],
    ['å®¢æˆ·ä¹Ÿè¡¨ç¤ºä»Žä¸Šä¸ªæ˜ŸæœŸå°±æ”¶ä¸åˆ°æ‰€æœ‰çš„stock price alert. apps è®¾ç½®ä¹Ÿéƒ½æ²¡é—®é¢˜ã€‚ éº»çƒ¦æŸ¥çœ‹', 'question'],
    ['ç”¨æˆ·åé¦ˆâ€œæœ€æ–°ç‰ˆè€è™ŽAPPè€—ç”µé£žå¿«ï¼Œè¯·ä¼˜åŒ–ä¸€ä¸‹ã€‚è€—ç”µå¼‚å¸¸çš„å¿«', 'question'],
    ['20671391717937ï¼Œå®‰å“ç‰ˆï¼›å¯ä»¥å¸®å¿™æŸ¥ä¸€ä¸‹ç”¨æˆ·æ—¥å¿—çœ‹çœ‹æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ', 'question'],
    ['æ¨¡æ‹Ÿè´¦æˆ· IOSæœ€æ–°ç‰ˆæœ¬ ä¼šæ˜¾ç¤ºä¸€æ¡é»‘çº¿ï¼ŒæŒä»“å±•ç¤ºä¸å®Œæ•´ï¼Œéº»çƒ¦å¸®å¿™çœ‹ä¸‹ è°¢è°¢', 'question'],
    ['è¿™ä¸ªæŽ¥å£ï¼Œé¢‘ç¹æŠ¥500çš„é”™è¯¯ï¼Œè°ç»™çœ‹çœ‹', 'question'],
    // ['å¥½çš„å“ˆï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹', 'statement'],
    // ['æœ‰å¯èƒ½æ˜¯å…¬å¸ç½‘ç»œé—®é¢˜ æœ‰äººåé¦ˆè¯´9å±‚æ–­ç½‘äº† è¿ç»´å€¼ç­æ­£åœ¨è”ç³»', 'statement'],
    // ['ç›®å‰å·²å®šä½åŽŸå› ï¼Œæ­£åœ¨è¯·è¿ç»´ååŠ©æ¢å¤', 'statement'],
    // ['å¯èƒ½å’Œç½‘ç»œæœ‰å…³ç³»', 'statement'],
    // [
    //     'æˆ‘ä»¬ä¼šå®‰æŽ’å¼€æ”¾æ›´å¤šæœ‰äº¤æ˜“é‡çš„å¤–æ±‡æœŸè´§  ä½†åœŸè€³å…¶é‡Œæ‹‰æš‚æ—¶ä¸ä¼š  å³ä¾¿æœ€è¿‘è¡Œæƒ…å¤§  è¿™æœŸè´§å•†å“ä»æ²¡æœ‰å•¥äº¤æ˜“é‡ ',
    //     'statement'
    // ],
    [
        'TBSGå®¢æˆ·æ³¨é”€è´¦æˆ·ï¼Œæ“ä½œè¿‡ç¨‹ä¸­æŒç»­å‡ºçŽ°â€œSorry ,address does not exist",å‰å‡ æ­¥å¯ä»¥å¿½è§†ä¿¡æ¯continueï¼Œåˆ°æœ€åŽä¸€æ­¥CONFIRMçš„æ—¶å€™æ— æ³•æäº¤ï¼Œè¾›è‹¦æŸ¥çœ‹ä¸‹~',
        'question.customer',
        'æ˜¯çš„,æˆ‘ä»¬ä¼šé©¬ä¸Šè§£å†³ï¼Œåº”è¯¥æ²¡é—®é¢˜'
    ],
    // ['æ ¹å› æ˜¯æˆ‘ä»¬çš„tigersecurities.comåŸŸåè¢«ç”µä¿¡ç½‘ç»œDNSåŠ«æŒäº†ï¼Œå·¥ç¨‹è¿™è¾¹é€šè¿‡CGä¸‹æ”¾äº†å…¥å£æŒ‡å‘', 'statement'],
    // ['ç¨ç­‰ä¸‹ï¼Œæˆ‘ä»¬æ›´æ–°ä¸‹é‚€è¯·é“¾æŽ¥ã€‚', 'statement'],
    // ['ä¸å¥½æ„æ€ï¼Œè¿™ä¸ªæƒ…å†µæˆ‘ä»¬å°½å¿«æŽ’æŸ¥ä¸‹å“ˆï¼æˆ‘æ–°æ‹‰ä¸ªç¾¤å§', 'statement'],
    [
        'å‡åˆ°5.2çœ‹åˆ°openDepartmentIdçš„æ”¯æŒäº†[é¼“æŽŒ]ï¼Œåé¦ˆä¸ªå°bugï¼Œé€‰æ‹©éƒ¨é—¨åŽå³ä¾§é¡¶éƒ¨æ–‡æ¡ˆæ˜¾ç¤ºæœ‰å¼‚å¸¸ï¼Œå¯ä»¥ç¡®è®¤ä¸‹',
        'question'
    ],
    // ['æˆ‘ä»¬æ²¡æœ‰ç»Ÿä¸€çš„æŠ¥é”™æ–‡æ¡£ã€‚ä¸è¿‡ï¼Œ1001å°±æ˜¯ä½ æˆªå›¾ä¸Šçš„æ„æ€ï¼Œç½‘ç»œè¿žæŽ¥è¶…æ—¶äº†', 'statement'],
    [
        '50663267 TAY JOO HENG - å®¢æˆ·æƒ³è§‚çœ‹å­¦å ‚é‡Œçš„å½±ç‰‡ä½†ä¸ç®¡æ˜¯è‹±æ–‡æˆ–ä¸­æ–‡ç‰ˆéƒ½æ²¡æœ‰å­¦å ‚çš„tab, å®¢æˆ·ä¹Ÿæä¾›çš„åº”ç”¨è½¯ä»¶çš„ç‰ˆæœ¬ çƒ¦è¯·ååŠ©æŸ¥çœ‹ï¼Œè°¢è°¢',
        'question'
    ],
    // ['åº”è¯¥å°±æ˜¯èµ„è®¯è¯¦æƒ…é¡µæ‰“ä¸å¼€å¯¼è‡´çš„', 'statement'],
    // ['ç›®å‰è§‚å¯Ÿçœ‹åŒ—äº¬ngå…¥å£å¯èƒ½æœ‰äº›æ€§èƒ½ç“¶é¢ˆï¼Œæˆ‘ä»¬è¿™è¾¹è·Ÿè¿›æ‰©å®¹ä¸€ä¸‹', 'statement'],
    // ['OK ç±»ä¼¼é—®é¢˜å¯ä»¥å…ˆæŠŠå…·ä½“æƒ…å†µæ”¶é›†ä¸€ä¸‹ï¼Œä¸ç„¶ä¸å¤ªå¥½å®šä½é—®é¢˜', 'statement'],
    // ['å¯ä»¥ç§èŠç»™æˆ‘å“ˆ', 'statement'],
    // [
    //     'ç¤¾åŒºçš„é—®é¢˜ï¼Œæ˜¯ç”±äºŽç¤¾åŒºå‰ç«¯wafä¼˜åŒ–é˜²æŠ¤è§„åˆ™ï¼Œè§¦å‘äº†å¼€æºå¼•æ“Žçš„bugå¯¼è‡´ï¼Œå°†æ–°è§„åˆ™ä¸‹çº¿åŽæ¢å¤äº†ã€‚åŽç»­çº¿ä¸Šé˜²æŠ¤è§„åˆ™æš‚æ—¶åœæ­¢å˜åŠ¨ï¼ŒæŽ’æŸ¥è§£å†³ä»£ç bugã€‚[è°¢è°¢]',
    //     'statement'
    // ],
    ['æ˜¯å›¾ä¸­çš„ç”¨æˆ·å—ï¼Ÿå¤´åƒæ¡†æœ‰ä½©æˆ´å—ï¼Ÿå‡ºçŽ°é—®é¢˜çš„ç”¨æˆ·idéº»çƒ¦æä¾›ä¸€ä¸‹', 'question.pic', 'æ˜¯çš„ï¼Œä½ çœŸæ£’'],
    [
        'ç›˜å‰ç«žä»·ä¸‹å•é—®é¢˜',
        'question.trade',
        'IBåº•å±‚ä¸æ”¯æŒAè‚¡ç›˜å‰ç›˜åŽç«žä»·ï¼ŒçŽ¯çƒå’Œç»¼åˆè´¦æˆ·éƒ½ä¸æ”¯æŒã€‚å®¢æˆ·è®¢å•æ•°é‡è¾ƒå¤§ï¼Œå¼€ç›˜åŽé€ç¬”æˆäº¤ã€‚æˆäº¤ä»·æ ¼æ˜¯æ­£å¸¸çš„ã€‚'
    ],
    [
        'ç¤¾åŒºé¡µé¢æ²¡æœ‰ä¸­è‹±æ–‡äº’ç¿»çš„æŒ‰é’®ï¼Œä¸”å®¢æˆ·çš„å…³æ³¨æ²¡æœ‰æ›´æ–°',
        'question.trade2',
        '7.1.4ç‰ˆæœ¬æµ·å¤–ç”¨æˆ·ä¸æ˜¾ç¤ºç¿»è¯‘æŒ‰é’®æ˜¯æ­£å¸¸é€»è¾‘ï¼Œå…³æ³¨æ²¡æœ‰æ›´æ–°çš„é—®é¢˜åœ¨å·¥å•ï¼šhttps://ticket.tigerfintech.com/ticket/2021122100004ï¼Œè¿™ä¸ªå…ˆå…³é—­äº†'
    ],
    ['12-23 iosç«¯-ç”¨æˆ·æ›´æ–°ç‰ˆæœ¬ä¹‹åŽæ¶ˆæ¯é€šçŸ¥ä¸æ›´æ–°', 'question.123123', 'ç”¨æˆ·å‡çº§appï¼Œåˆ‡æ¢åˆ°æµ·å¤–ç¤¾åŒºï¼Œæ­£å¸¸ã€‚'],
    ['CRMã€‘ä¸‹é›¨äº†æˆ‘è¯´çš„ä¸æ˜¯å¤©æ°”ðŸŒ¦ - è€è™Žå·¥å•', 'question.weather', 'ä½ è¯´çš„æ˜¯å•¥'],
    ['ç›˜å‰ç«žä»·ä¸‹å•é—®é¢˜', 'QUESTION.TRADE', 'Båº•å±‚ä¸æ”¯æŒAè‚¡ç›˜å‰ç›˜åŽç«žä»·ï¼ŒçŽ¯çƒå’Œç»¼åˆè´¦æˆ·éƒ½ä¸æ”¯æŒã€‚å®¢æˆ·è®¢å•æ•°é‡è¾ƒå¤§ï¼Œå¼€ç›˜åŽé€ç¬”æˆäº¤ã€‚æˆäº¤ä»·æ ¼æ˜¯æ­£å¸¸çš„.'],
    ['ä½ çž…å•¥,æƒ³æ‰“æž¶å—','QUESTION.TT','çž…ä½ å’‹åœ°']
];

dicts.map((dict) => {
    // result = nodejieba.cut(dict[0]);
    // console.log(result);
    // classifier.addDocument(result, dicts[1]);
    manager.addDocument('zh', dict[0], dict[1]);
    if (dict.length > 2) {
        manager.addAnswer('zh', dict[1], dict[2]);
    }
});

const testCase = [
    // 'è¯·é—®ç”¨æˆ·æ˜¾ç¤ºAPPç¤¾åŒºå†…å®¹åŠ è½½ä¸å‡ºæ¥ï¼Œå¯ä»¥å¸®å¿™çœ‹çœ‹å—',
    // 'æ¸ é“åŽå°å¤åˆ¶å‡ºæ¥çš„å¼€æˆ·é“¾æŽ¥ æ‰“ä¸å¼€ éº»çƒ¦å“ªä½åŒäº‹å¸®çœ‹ä¸‹ï¼Ÿ',
    // 'å¥½çš„ï¼Œæˆ‘çœ‹ä¸€ä¸‹',
    // 'ç¨ç­‰ä¸‹ï¼Œæˆ‘ä»¬æ›´æ–°ä¸‹é‚€è¯·é“¾æŽ¥ã€‚',
    // 'ä½†çœ‹ç”¨æˆ·æˆªå›¾è¿žçš„æ˜¯æ— çº¿ï¼Œ ç½‘ç»œè¿˜å¯ä»¥å§ã€‚',
    // 'æ­£åœ¨æŽ’æŸ¥è§£å†³ï¼Œè°¢è°¢',
    // 'åº”å®‰å…¨å’Œå®¡è®¡éœ€æ±‚ï¼ŒCRMæƒé™åšäº†æ”¹é€ ï¼Œç»„ç»‡æž¶æž„åœ¨ç ”å‘ä¸‹çš„äººå‘˜ä»¥åŽéœ€è¦ç”¨æ–°åŸŸåç™»é™†CRM',
    // 'åœ¨ç¤¾åŒºå¸–å­è¯„è®ºç•™è¨€åŒºé‡Œå¦‚æžœç”¨æˆ·æœ‰å¤´åƒæ¡†ï¼Œåº”è¯¥å¯ä»¥å±•ç¤ºå¤´åƒæ¡†ï¼Œæ–°ä¸Šçº¿äº†ä¸€æ¬¾åœ£è¯žå¤´åƒæ¡†ï¼Œæ²¡æœ‰åœ¨ç•™è¨€åŒºå±•ç¤ºå‡ºæ¥ï¼Œè¿™å—å±•ç¤ºä¸Žå¦çš„é€»è¾‘æ˜¯å•¥',
    // '3570010942140204 å®¢æˆ·çš„app ç‰ˆæœ¬æ˜¯7.1.4.0ï¼ŒIOSï¼Œç¤¾åŒºé¡µé¢æ²¡æœ‰ä¸­è‹±æ–‡äº’ç¿»çš„æŒ‰é’®ï¼Œä¸”å®¢æˆ·çš„å…³æ³¨æ²¡æœ‰æ›´æ–°ï¼Œå®¢æˆ·ç‚¹å‡»æˆ‘çš„â€”è®¾ç½®â€”é€šç”¨â€”è¯­è¨€è®¾ç½®ï¼Œé‡Œé¢æ²¡æœ‰â€œå†…å®¹ç¿»è¯‘â€å¼€å…³ï¼Œéº»çƒ¦çœ‹ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œè°¢è°¢',
    // 'ç”¨æˆ·å‡ºé‡‘ï¼Œä¸æ‡‚äº¤æ˜“è§„åˆ™ï¼št+2äº¤æ”¶ä»¥åŽæå–å‡ºé‡‘é‡‘é¢æ‰å‡†ç¡®ã€‚æœªäº¤æ”¶å‡ºé‡‘å¯¼è‡´ç”¨æˆ·è´¦æˆ·æ¬ æ¬¾å¼•å‘ä¸æ»¡æ„ã€‚'ï¼Œ
    'ä¸‹é›¨äº†æˆ‘è¯´çš„ä¸æ˜¯å¤©æ°”?',
    // 'iosç«¯-ç”¨æˆ·æ›´æ–°ç‰ˆæœ¬ä¹‹åŽæ¶ˆæ¯é€šçŸ¥ä¸æ›´æ–°,å¯ç”¨å¸®å¿™çœ‹çœ‹å—',
    // 'å®¢æˆ·å‘¨ä¼Ÿï¼ŒçŽ¯çƒè´¦æˆ·U8520322ï¼Œæ—©ä¸Š9ç‚¹22ä¸‹å•äº†aè‚¡çš„000831ï¼Œä¸€ç›´æ²¡è¿˜æœ‰æˆäº¤ï¼Œå¯ä»¥å¸®å¿™çœ‹ä¸‹å—ï¼Ÿå¼€ç›˜çš„æ—¶å€™æˆäº¤äº†ï¼Œä½†ä¸æ˜¯ä»¥å¼€ç›˜ä»·æˆäº¤çš„ï¼ŒçŽ°åœ¨å®¢æˆ·è¿˜è¦ç´¢èµ”ï¼Œå¯ä»¥å¸®å¿™çœ‹ä¸‹å—[æ‚è„¸]',
    // "å°æ˜Ž,ä½ çž…å•¥"
];

// Train and save the model.
(async () => {
    await manager.load();
    manager.save();
    testCase.map(async (text, index) => {
        const result = await manager.process('zh', text);
        console.log(index, result.classifications, result.answer);
    });
})();
